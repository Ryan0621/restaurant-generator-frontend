(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,a){e.exports=a(295)},292:function(e,t,a){},295:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),r=a(7),l=a.n(r),c=a(36),s=a(125),o=a(29),u=a(30),h=a(32),p=a(31),d=a(33),y=a(301),m=a(300),f=function(e){function t(){return Object(o.a)(this,t),Object(h.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h2",null," Welcome to Restaurant Generator! "),i.a.createElement("h4",null," This application generates food outlet around Cupertino according to your preferences. "))}}]),t}(n.Component),_=a(298),g=a(296),b=a(299),v=a(265),C=a(266),E=_.a.Option,O=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(h.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||console.log("Received values of form: ",t)})},a.handleCuisineChange=function(e,t){var n=t.map(function(e){return{id:e.key,cuisine_type:e.props.value}});a.props.handleChildrenChange("cuisine_choice",n)},a.handleOutletChange=function(e,t){var n=t.map(function(e){return{id:e.key,outlet_type:e.props.value}});a.props.handleChildrenChange("outlet_choice",n)},a.handleAffordabilityChange=function(e,t){var n=t.map(function(e){return{id:e.key,affordability_type:e.props.value}});a.props.handleChildrenChange("affordability_choice",n)},a.handleVeganChange=function(e){a.props.handleChildrenChange("vegan_choice",e.target.checked)},a.handleHalalChange=function(e){a.props.handleChildrenChange("halal_choice",e.target.checked)},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return i.a.createElement(g.a,{onSubmit:this.handleSubmit},i.a.createElement(g.a.Item,{label:"Cuisine Type",labelCol:{span:5},wrapperCol:{span:12}},i.a.createElement(_.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",defaultValue:[],onChange:this.handleCuisineChange},this.props.cuisine_type.map(function(e){return i.a.createElement(E,{key:e.id,value:e.cuisine_type},e.cuisine_type)}))),i.a.createElement(g.a.Item,{label:"Outlet Type",labelCol:{span:5},wrapperCol:{span:12}},i.a.createElement(_.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",defaultValue:[],onChange:this.handleOutletChange},this.props.outlet_type.map(function(e){return i.a.createElement(E,{key:e.id,value:e.outlet_type},e.outlet_type)}))),i.a.createElement(g.a.Item,{label:"Affordability",labelCol:{span:5},wrapperCol:{span:12}},i.a.createElement(_.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",defaultValue:[],onChange:this.handleAffordabilityChange},this.props.affordability_type.map(function(e){return i.a.createElement(E,{key:e.id,value:e.affordability},e.affordability)}))),i.a.createElement(g.a.Item,null,i.a.createElement(b.a.Group,{style:{width:"100%"}},i.a.createElement(v.a,null,i.a.createElement(C.a,{span:8},i.a.createElement(b.a,{value:"Halal",onChange:this.handleHalalChange,checked:this.props.halal_choice},"Halal")),i.a.createElement(C.a,{span:8},i.a.createElement(b.a,{value:"Vegan-friendly",onChange:this.handleVeganChange,checked:this.props.vegan_choice},"Vegan-friendly"))))),i.a.createElement(g.a.Item,{wrapperCol:{span:12,offset:5}}))}}]),t}(n.Component),j=g.a.create()(O),k=a(297),S=a(22),w=a(294),x=a(268),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).shuffleItem=function(){var e=a.random();a.setState({restaurant:e})},a.state={restaurant:{id:"",outlet_type:{id:"",outlet_type:""},cuisine_type:{id:"",cuisine_type:""},affordability:{id:"",affordability:""},opening_times:[],address:{id:"",street_number:"",route:"",raw:"",formatted:"",latitude:"",longitude:"",locality:""},name:"",vegan_friendly:!1,halal:!1},is_empty:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.generated_ls!==this.props.generated_ls&&(this.random=x(e.generated_ls),this.shuffleItem()),e.is_empty!==this.props.is_empty&&this.setState({is_empty:e.is_empty})}},{key:"render",value:function(){var e=this,t={width:"100%",textAlign:"center"};return this.state.is_empty?i.a.createElement(k.a,null,i.a.createElement(w.a,{description:i.a.createElement("span",null,"No match found.")})):i.a.createElement(k.a,{actions:[i.a.createElement(m.a,{type:"primary",onClick:function(){return e.shuffleItem()}},"Regenerate")]},i.a.createElement(k.a.Grid,{style:t},i.a.createElement(S.a,{type:"shop"})," ",this.state.restaurant.name),i.a.createElement(k.a.Grid,{style:t},i.a.createElement(S.a,{type:"environment"})," ",this.state.restaurant.address.formatted),i.a.createElement(k.a.Grid,{style:t},i.a.createElement(S.a,{type:"tags"})," ",this.state.restaurant.cuisine_type.cuisine_type," ",this.state.restaurant.outlet_type.outlet_type),i.a.createElement(k.a.Grid,{style:t},i.a.createElement(S.a,{type:"dollar"})," ",this.state.restaurant.affordability.affordability))}}]),t}(n.Component),G=a(56),V=a.n(G),A=y.a.Step,R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleChildrenChange=function(e,t){a.setState(Object(s.a)({},e,t))},a.state={current:0,cuisine_type:[],outlet_type:[],affordability_type:[],cuisine_choice:[],outlet_choice:[],affordability_choice:[],halal_choice:!1,vegan_choice:!1,is_empty:!1,generated_ls:[]},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;V.a.get("https://restaurantgen.ryanchan.xyz/api/cuisine_type/").then(function(t){e.setState({cuisine_type:Object(c.a)(t.data)})}).catch(function(t){e.setState({cuisine_type:[]})}),V.a.get("https://restaurantgen.ryanchan.xyz/api/outlet_type/").then(function(t){e.setState({outlet_type:Object(c.a)(t.data)})}).catch(function(t){e.setState({outlet_type:[]})}),V.a.get("https://restaurantgen.ryanchan.xyz/api/affordability/").then(function(t){e.setState({affordability_type:Object(c.a)(t.data)})}).catch(function(t){e.setState({affordability_type:[]})})}},{key:"generateUrl",value:function(){var e="https://restaurantgen.ryanchan.xyz/api/restaurant?",t=this.state.outlet_choice.map(function(e){return"outlet_type="+e.id}),a=this.state.cuisine_choice.map(function(e){return"cuisine_type="+e.id}),n=this.state.affordability_choice.map(function(e){return"affordability_type="+e.id}),i=[];return this.state.halal_choice&&i.push("halal="+this.state.halal_choice),this.state.vegan_choice&&i.push("vegan_friendly="+this.state.vegan_choice),e+=i=[].concat(Object(c.a)(t),Object(c.a)(a),Object(c.a)(n)).join("&")}},{key:"generateRestaurant",value:function(){var e=this,t=this.generateUrl();V.a.get(t).then(function(t){0!==t.data.length?e.setState({generated_ls:Object(c.a)(t.data)}):e.setState({is_empty:!0})}).catch(function(t){e.setState({is_empty:!0})})}},{key:"next",value:function(){1===this.state.current&&this.generateRestaurant();var e=this.state.current+1;this.setState({current:e})}},{key:"prev",value:function(){var e=this.state.current-1;this.setState({current:e}),this.setState({is_empty:!1})}},{key:"render",value:function(){var e=this,t=this.state.current;return i.a.createElement("div",{className:"App"},i.a.createElement("div",null,i.a.createElement(y.a,{current:t},i.a.createElement(A,{key:"Welcome",title:"Welcome"}),i.a.createElement(A,{key:"Select",title:"Select"}),i.a.createElement(A,{key:"Finish",title:"Finish"})),i.a.createElement("div",{className:"steps-content"},0===t?i.a.createElement(f,null):1===t?i.a.createElement(j,Object.assign({},this.state,{handleChildrenChange:this.handleChildrenChange})):i.a.createElement(I,{generated_ls:this.state.generated_ls,is_empty:this.state.is_empty})),i.a.createElement("div",{className:"steps-action"},t<2&&i.a.createElement(m.a,{type:"primary",onClick:function(){return e.next()}},1===this.state.current?"Generate":"Next"),t>0&&i.a.createElement(m.a,{style:{marginLeft:8},onClick:function(){return e.prev()}},"Previous"))))}}]),t}(n.Component);a(290),a(292);l.a.render(i.a.createElement(R,null),document.getElementById("root"))}},[[139,2,1]]]);
//# sourceMappingURL=main.8240f769.chunk.js.map